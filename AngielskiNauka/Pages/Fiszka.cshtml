@page "{id:int?}"
@model AngielskiNauka.Pages.FiszkaModel
@{
    //var model = @Html.Raw(Json.Encode(Model));
}


<br />
<div onclick="dalej()" style="height:100%">
    <button onclick="dalej()" class="btn2 btn btn-warning btn-block custom-btn-size">      Pokaż    </button>
    Klawisz: <-- --> lub w góre w dół idzie do pozycji pierwszej
    <br />    <br />    <br />
    <div class="container" onclick="dalej()">
        <div class="row">
            <div id="ang" class="fontfiszka col-md-6 h1 bg-warning text-dark">Ang</div>

        </div>
    </div>

    <div class="container" onclick="dalej()">
        <div class="row">
            <div class="col-md-6"></div>
            <div class="col-md-6 h1 bg-primary text-white"><span id="pol" class="fontfiszka pull-right">pol</span></div>
        </div>
    </div>



</div>
<hr />
<partial name="PoziomView" model="@Model.poziom" />
<script>
    var pos = 0;
    document.addEventListener("keydown", function (event) {
        var code;
        if (event.key !== undefined) {
            code = event.key;
        } else if (event.keyIdentifier !== undefined) {
            code = event.keyIdentifier;
        } else if (event.keyCode !== undefined) {
            code = event.keyCode;
        }
        console.log(code);
        handleArrow(code);
    });

    function handleArrow(code) {
        console.log('pozycja',pos)
        switch (code) {
            case 'ArrowLeft':
                pos = pos - 1;
                pokaz(pos);
                break;
            case 'ArrowRight':
                pos = pos + 1;
                pokaz(pos);
                break;
            default:
                pos = 0;
                pokaz(pos);
                
          
        }
    }

    var slowa = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model.List));

    function pokaz(pozycja) {
      
        if (pozycja == -1) {
           
            pos = slowa.length - 1;
        }
        else {

            if (pozycja == slowa.length ) {
                pos = 0;
            }
        }
        var s = slowa[pos]
        console.table(s.Ang);
        $("#ang").html(s.Ang);
        $("#pol").html(s.Pol);
    }
    function dalej() {
        pos = pos + 1;
        pokaz(pos);

    }
    pokaz(pos);
</script>
